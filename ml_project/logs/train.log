2022-11-05 17:53:42,714 - INFO - Training config:
input_data_path: data/heart_cleveland.csv
output_model_path: models/model.pkl
metrics_path: models/metrics.json
split_params:
  random_state: 42
  val_size: 0.2
feature_params:
  categorical_features:
  - sex
  - cp
  - fbs
  - restecg
  - exang
  - slope
  - ca
  - thal
  numerical_features:
  - age
  - trestbps
  - chol
  - thalach
  - oldpeak
  features_to_drop: []
  target_col: condition
train_params:
  model_type: RandomForestClassifier
  random_state: 42

2022-11-05 17:53:42,715 - INFO - Start train pipeline with params TrainingPipelineParams(input_data_path='data/heart_cleveland.csv', output_model_path='models/model.pkl', metrics_path='models/metrics.json', split_params=SplitParams(random_state=42, val_size=0.2), feature_params=FeatureParams(categorical_features=['sex', 'cp', 'fbs', 'restecg', 'exang', 'slope', 'ca', 'thal'], numerical_features=['age', 'trestbps', 'chol', 'thalach', 'oldpeak'], features_to_drop=[], target_col='condition'), train_params=TrainParams(model_type='RandomForestClassifier', random_state=42)).
2022-11-05 17:53:42,721 - INFO - Building transformer...
2022-11-05 17:53:42,731 - INFO - Fitting transformer...
2022-11-05 17:53:42,741 - INFO - Preparing train data...
2022-11-05 17:53:42,748 - INFO - Training model...
2022-11-05 17:53:42,894 - INFO - Preparing validation data...
2022-11-05 17:53:42,901 - INFO - Making predictions on validation data...
2022-11-05 17:53:42,914 - INFO - Evaluating model...
2022-11-05 17:53:42,915 - INFO - Saving metrics...
2022-11-05 17:54:43,544 - INFO - Training config:
input_data_path: data/heart_cleveland.csv
output_model_path: models/model.pkl
metrics_path: models/metrics.json
split_params:
  random_state: 42
  val_size: 0.2
feature_params:
  categorical_features:
  - sex
  - cp
  - fbs
  - restecg
  - exang
  - slope
  - ca
  - thal
  numerical_features:
  - age
  - trestbps
  - chol
  - thalach
  - oldpeak
  features_to_drop: []
  target_col: condition
train_params:
  model_type: RandomForestClassifier
  random_state: 42

2022-11-05 17:54:43,545 - INFO - Start train pipeline with params TrainingPipelineParams(input_data_path='data/heart_cleveland.csv', output_model_path='models/model.pkl', metrics_path='models/metrics.json', split_params=SplitParams(random_state=42, val_size=0.2), feature_params=FeatureParams(categorical_features=['sex', 'cp', 'fbs', 'restecg', 'exang', 'slope', 'ca', 'thal'], numerical_features=['age', 'trestbps', 'chol', 'thalach', 'oldpeak'], features_to_drop=[], target_col='condition'), train_params=TrainParams(model_type='RandomForestClassifier', random_state=42)).
2022-11-05 17:54:43,550 - INFO - Building transformer...
2022-11-05 17:54:43,557 - INFO - Fitting transformer...
2022-11-05 17:54:43,569 - INFO - Preparing train data...
2022-11-05 17:54:43,575 - INFO - Training model...
2022-11-05 17:54:43,686 - INFO - Preparing validation data...
2022-11-05 17:54:43,691 - INFO - Making predictions on validation data...
2022-11-05 17:54:43,701 - INFO - Evaluating model...
2022-11-05 17:54:43,703 - INFO - Saving metrics...
2022-11-05 17:54:43,703 - INFO - Saving pipeline...
2022-11-05 17:54:43,714 - INFO - Done.
2022-11-05 17:55:37,384 - INFO - Start train pipeline with params TrainingPipelineParams(input_data_path='/Users/alexg/Documents/MADE_2022/MLOps/ml_project/tests/train_data_sample.csv', output_model_path='/Users/alexg/Documents/MADE_2022/MLOps/ml_project/tests/model.pkl', metrics_path=local('/private/var/folders/pb/t6vzxjzn4dsb3vlb9pm12fzc0000gn/T/pytest-of-alexg/pytest-2/test_train_e2e0/metrics.json'), split_params=SplitParams(random_state=4, val_size=0.2), feature_params=FeatureParams(categorical_features=['sex', 'cp', 'fbs', 'restecg', 'exang', 'slope', 'ca', 'thal'], numerical_features=['age', 'trestbps', 'chol', 'thalach', 'oldpeak'], features_to_drop=[], target_col='target'), train_params=TrainParams(model_type='RandomForestClassifier', random_state=42)).
2022-11-05 17:55:37,388 - INFO - Building transformer...
2022-11-05 17:55:37,398 - INFO - Fitting transformer...
2022-11-05 17:55:37,411 - INFO - Preparing train data...
2022-11-05 17:55:37,417 - INFO - Training model...
2022-11-05 17:55:37,548 - INFO - Preparing validation data...
2022-11-05 17:55:37,554 - INFO - Making predictions on validation data...
2022-11-05 17:55:37,566 - INFO - Evaluating model...
2022-11-05 17:55:37,568 - INFO - Saving metrics...
2022-11-05 17:55:37,569 - INFO - Saving pipeline...
2022-11-05 17:55:37,572 - INFO - Done.
2022-11-05 17:55:37,582 - INFO - Loading data...
2022-11-05 17:55:37,584 - INFO - Loading pipeline...
2022-11-05 17:55:37,613 - INFO - Making predictions...
2022-11-05 17:55:37,631 - INFO - Saving predictions...
2022-11-05 17:55:37,633 - INFO - Predictions saved to /Users/alexg/Documents/MADE_2022/MLOps/ml_project/tests/prediction.csv
2022-11-05 17:55:37,633 - INFO - Done.
